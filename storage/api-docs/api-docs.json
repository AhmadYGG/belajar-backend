{
    "openapi": "3.0.0",
    "info": {
        "title": "SAMP API",
        "description": "Dokumentasi API untuk Account Panel SAMP",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://127.0.0.1:8000",
            "description": "Local server"
        }
    ],
    "paths": {
        "/": {},
        "/api/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Login UCP",
                "description": "Validasi username (UCP) dan password terhadap DB SA-MP (kolom Password_Bcrypt).",
                "operationId": "222b2625838e3c57e017987f73598fda",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "ucp",
                                    "password"
                                ],
                                "properties": {
                                    "ucp": {
                                        "type": "string",
                                        "example": "admin"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "admin123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login berhasil",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Login berhasil"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "username": {
                                                    "type": "string",
                                                    "example": "admin"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Kredensial salah",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "UCP atau password salah"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                }
            }
        },
        "/api/characters/{username}": {
            "get": {
                "tags": [
                    "Character"
                ],
                "summary": "Get character by UCP username",
                "operationId": "675948fbf886ae3d770323530d7a528b",
                "parameters": [
                    {
                        "name": "username",
                        "in": "path",
                        "description": "UCP Username",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Character data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "ID": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "Character": {
                                                        "type": "string",
                                                        "example": "Antonio_Rudriger"
                                                    },
                                                    "Skin": {
                                                        "type": "integer",
                                                        "example": 292
                                                    },
                                                    "Level": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "PlayingHours": {
                                                        "type": "integer",
                                                        "example": 112
                                                    },
                                                    "Exp": {
                                                        "type": "integer",
                                                        "example": 8
                                                    },
                                                    "Money": {
                                                        "type": "integer",
                                                        "example": 50000
                                                    },
                                                    "Faction": {
                                                        "type": "integer",
                                                        "example": 32
                                                    },
                                                    "FactionRank": {
                                                        "type": "integer",
                                                        "example": 5
                                                    },
                                                    "BankAccount": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "AccNumber": {
                                                                    "type": "integer",
                                                                    "example": 1732
                                                                },
                                                                "AccName": {
                                                                    "type": "string",
                                                                    "example": "Antonio"
                                                                },
                                                                "Balance": {
                                                                    "type": "integer",
                                                                    "example": 30000000
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "Cars": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "carModel": {
                                                                    "type": "integer",
                                                                    "example": 521
                                                                },
                                                                "carPlate": {
                                                                    "type": "string",
                                                                    "example": "No Plate"
                                                                },
                                                                "carPlate_Time1": {
                                                                    "type": "string",
                                                                    "example": "EXPIRED"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Character not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Character not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/factions": {
            "get": {
                "tags": [
                    "Factions"
                ],
                "summary": "Get All Factions",
                "operationId": "badaf54773521c3f139ae53ac0ea6099",
                "responses": {
                    "200": {
                        "description": "List of Factions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "factionID": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Police Department"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Law enforcement faction"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/factions/{factionID}/items": {
            "get": {
                "tags": [
                    "Factions"
                ],
                "summary": "Get Items from a Specific Faction",
                "operationId": "8b6147c1e0dd4ce0e78560954b5cf8f5",
                "parameters": [
                    {
                        "name": "factionID",
                        "in": "path",
                        "description": "Faction ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of Faction Items",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "ID": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "itemName": {
                                                        "type": "string",
                                                        "example": "M4A1 Rifle"
                                                    },
                                                    "quantity": {
                                                        "type": "integer",
                                                        "example": 50
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Faction not found"
                    }
                }
            }
        },
        "/api/music": {
            "get": {
                "tags": [
                    "Music"
                ],
                "summary": "Get All Public Music",
                "operationId": "5db0d6a882ec3df6cef901b8b5dc2ebc",
                "responses": {
                    "200": {
                        "description": "List of Saved Music",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Song 1"
                                                    },
                                                    "url": {
                                                        "type": "string",
                                                        "example": "https://example.com/song1.mp3"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/orders": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Buat order baru",
                "operationId": "d690d6834318e9b064df441e854de8b9",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "username",
                                    "character_name",
                                    "payment",
                                    "items"
                                ],
                                "properties": {
                                    "username": {
                                        "type": "string",
                                        "example": "AhmadYGG"
                                    },
                                    "character_name": {
                                        "type": "string",
                                        "example": "Antonio_Rudriger"
                                    },
                                    "payment": {
                                        "type": "string",
                                        "example": "OVO"
                                    },
                                    "items": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "example": "PremiumPackage"
                                                },
                                                "qty": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "price": {
                                                    "type": "number",
                                                    "example": 25000
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Order berhasil dibuat",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Order created successfully"
                                        },
                                        "order_id": {
                                            "type": "integer",
                                            "example": 10
                                        },
                                        "total": {
                                            "type": "number",
                                            "example": 50000
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders/{id}": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Lihat detail order",
                "operationId": "c29621029e70f65247909d3e09031118",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detail order dengan item",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 10
                                        },
                                        "username": {
                                            "type": "string",
                                            "example": "AhmadYGG"
                                        },
                                        "character_name": {
                                            "type": "string",
                                            "example": "Antonio_Rudriger"
                                        },
                                        "payment": {
                                            "type": "string",
                                            "example": "OVO"
                                        },
                                        "total_price": {
                                            "type": "number",
                                            "example": 50000
                                        },
                                        "items": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "name": {
                                                        "type": "string",
                                                        "example": "PremiumPackage"
                                                    },
                                                    "qty": {
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "price": {
                                                        "type": "number",
                                                        "example": 25000
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders/{id}/receipt": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Download order receipt (PDF)",
                "operationId": "2c99f943ce45de715b7fe976dd709425",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "File PDF receipt",
                        "content": {
                            "application/pdf": {}
                        }
                    },
                    "404": {
                        "description": "Order not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Auth"
        },
        {
            "name": "Character",
            "description": "Character"
        },
        {
            "name": "Factions",
            "description": "Factions"
        },
        {
            "name": "Music",
            "description": "Music"
        },
        {
            "name": "Orders",
            "description": "Orders"
        }
    ]
}